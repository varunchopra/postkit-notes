{% extends "base.html" %}
{% from "macros/components.html" import role_badge %}

{% block title %}Teams{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Teams</h1>
    <div class="actions">
        <a href="{{ url_for('views.teams.new') }}" class="btn btn-primary">+ New Team</a>
    </div>
</div>

<div class="stats">
    <div class="stat">
        <div class="stat-value">{{ teams|length }}</div>
        <div class="stat-label">My Teams</div>
    </div>
    <div class="stat">
        <div class="stat-value">{{ owned_count }}</div>
        <div class="stat-label">Teams I Own</div>
    </div>
</div>

<div class="section">
    {% if teams %}
    <div class="card-list">
        {% for team in teams %}
        <a href="{{ url_for('views.teams.view', team_id=team.team_id) }}" class="card-link">
            <div class="card-header">
                <h3 class="card-title">{{ team.name }}</h3>
                {{ role_badge(team.my_role) }}
            </div>
            <div class="card-meta">
                <span>{{ team.member_count }} member{% if team.member_count != 1 %}s{% endif %}</span>
                <span class="separator">|</span>
                <span>Created {{ team.created_at.strftime('%Y-%m-%d') if team.created_at else 'N/A' }}</span>
            </div>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-message">
        <p>You're not a member of any teams yet</p>
        <a href="{{ url_for('views.teams.new') }}" class="btn btn-primary mt-2">Create a team</a>
    </div>
    {% endif %}
</div>
{% endblock %}
